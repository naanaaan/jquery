<script src='https://code.jquery.com/jquery-3.6.0.min.js'></script>
<script>
    $(() => {
        let table = $('tbody')
        let tr_length = $('tbody tr').length
        let td_length = $('tbody tr:eq(0) td').length
        $('button').click(() => {
            $.ajax({//최소한으로 구현.
                url: '2.data.json',
                //json의 string이 object으로 parsing해서 data에 들어간다.
                /*success: (data, status, xhr) => { //status값으로 성공여부를 알아볼 수 있다.
                    for (let a = 0; a < tr_length; a++) {
                        for (let b = 0; b < td_length; b++) {
                            $('tbody tr:eq(' + a + ') td:eq(' + b + ')').text(Object.values(data.fruits[a])[b])
                        }
                    }
                }*/
                success: (data) => {
                    //과제: table에 data를 채워라.
                    let fruits = data.fruits
                    let fruit, col, val, tr, td

                    for(let row in fruits) {
                        fruit = fruits[row]
                        tr = table.find('tr').eq(row)

                        col = 0
                        for(let key in fruit){
                            val = fruit[key]
                            td = tr.find('td').eq(col++)
                            td.text(val)
                            console.log(val)
                        }
                    }
                }

            })
        })
    })
</script>
<!-- asynchronous이기때문에 현재 화면이 유지되며 계속 채워나갈 수 있다. -->
<button type='button'>load</button>

<table>
    <thead>
        <tr><th>이름</th><th>가격</th><th>기한</th><th>생산자</th></tr>
    </thead>
    <tbody>
        <tr><td></td><td></td><td></td><td></td></tr>
        <tr><td></td><td></td><td></td><td></td></tr>
    </tbody>
</table>